// Use SQLite as the local database
datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// Prisma client generator
generator client {
  provider = "prisma-client-py"
  enable_experimental_decimal = true
  recursive_type_depth = 5
}

// Model for Bluesky_Posts
model Bluesky_Posts {
  post_uri            String   // SQLite does not support VarChar(MAX), use String
  post_author         String  
  post_author_display String? 
  post_text           String  
  timeposted          Int     // SQLite does not support DateTime, use Int
  sentiment_score     Float?  // SQLite does not support Decimal, use Float
  keyword            String? 
  location           String?  

  @@unique([post_author, timeposted]) // Composite keys work better with @@unique
}

// Model for LSTM_Posts
model LSTM_Posts {
  post_uri            String  
  category           String  
  post_author         String  
  post_author_display String  
  post_text           String  
  timeposted          String
  sentiment_score     Float  // SQLite does not support Decimal, use Float
  keyword            String? 
  location           String?  

  @@unique([category, post_author, timeposted]) // Composite key remains
}

